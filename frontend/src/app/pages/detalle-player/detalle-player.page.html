<app-topbar></app-topbar>

<ion-content class="detalle-player-content">
  
    <ion-title>{{nombre}}</ion-title>
    <div class="charts-container">
  
      <div class="chart-card">
        <div class="circular-chart blue">
          <svg viewBox="0 0 36 36" class="circle-svg">
            <path
            class="circle-bg"
            d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <path
            class="circle"
            [attr.stroke-dasharray]="singlesPercentage + ', 100'"
            d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <text x="18" y="20.35" class="percentage-text">{{ singlesPercentage }}%</text>
          </svg>
          <h3>Singles Won</h3>
        </div>
      </div>
  
      <div class="chart-card">
        <div class="circular-chart green">
          <svg viewBox="0 0 36 36" class="circle-svg">
            <path
            class="circle-bg"
            d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <path
            class="circle"
            [attr.stroke-dasharray]="doublesPercentage + ', 100'"
            d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <text x="18" y="20.35" class="percentage-text">{{ doublesPercentage }}%</text>
          </svg>
          <h3>Doubles Won</h3>
        </div>
      </div>
    </div>
    @if(errorPartidos){
      <ion-card>
        <ion-card-content class="error-message">
          This player has no matches played
        </ion-card-content>
      </ion-card>
    }
    @else{
      <ng-container *ngFor="let partido of partidosConMarcadores">
        @if(!partido.partido.nombre4){
          <ion-card-title class="fecha-partido">{{partido.partido.fecha}}</ion-card-title>
          <ion-card color="light" (click)="goToDetail(partido.partido.id)">
            <ion-card-content>
              <ion-grid>
                <ion-row>
                  <ion-col class="columna-nombre">{{ partido.partido.nombre1 }}</ion-col>
                  <ng-container *ngFor="let marcador of partido.marcador">
                        <ion-col class="columna-resultado">{{ marcador.set.marcador1 }}</ion-col>
                  </ng-container>
                  </ion-row>
                  <ion-row>
                    <ion-col class="columna-nombre">{{ partido.partido.nombre2 }}</ion-col>
                    <ng-container *ngFor="let marcador of partido.marcador">
                      <ion-col class="columna-resultado">{{ marcador.set.marcador2 }}</ion-col>
                    </ng-container>
                  </ion-row>
                </ion-grid>
              </ion-card-content>
            </ion-card>
        }@else{
          <ion-card-title class="fecha-partido">{{partido.partido.fecha}}</ion-card-title>
          <ion-card color="light" (click)="goToDetail(partido.partido.id)">
            <ion-card-content>
              <ion-grid>
                <ion-row>
                  <ion-col class="columna-nombre">{{ partido.partido.nombre1 }} / {{ partido.partido.nombre2 }}</ion-col>
                  <ng-container *ngFor="let marcador of partido.marcador">
                    <ion-col class="columna-resultado">{{ marcador.set.marcador1 }}</ion-col>
                  </ng-container>
                </ion-row>
                <ion-row>
                  <ion-col class="columna-nombre">{{ partido.partido.nombre3 }} / {{ partido.partido.nombre4 }}</ion-col>
                  <ng-container *ngFor="let marcador of partido.marcador">
                    <ion-col class="columna-resultado">{{ marcador.set.marcador2 }}</ion-col>
                  </ng-container>
                </ion-row>
              </ion-grid>
            </ion-card-content>
          </ion-card>
        }
        </ng-container>
    }
  
  
    
</ion-content>

